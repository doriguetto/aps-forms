---
description: Best practices for designing and using blocks based on David’s Model for AEM authoring and JCR content modeling.
globs: blocks/**/*, models/_section.json, models/_component-definition.json
alwaysApply: false
---

- **Authoring‑first block design (AEM.live David’s Model)**
  - **Avoid nested blocks**; table‑in‑table structures are extremely hard to manage in Word/Google Docs—use fragments or auto‑blocked links instead when you need composition.
  - **Limit row/column spans** inside block tables; non‑trivial merged cells are a smell that the model is too complex for typical authors.
  - Always model URLs as **fully‑qualified links** (protocol + host + path); let code strip or normalize them as needed instead of expecting authors to think in relative URLs.
  - Model **simple lists** with native list semantics (e.g., `<ul><li>` in default content or a single cell with links); only switch to “one row per item” block tables when items are structurally complex or card‑like.
  - Treat **“link on its own line” as a button** that inherits styling from its block/section context; only introduce explicit button variants (primary/secondary) via simple formatting cues (bold/italic) when strictly necessary.
  - Keep **filenames meaningful to authors** (especially when mapping legacy URLs); prefer clean, slash‑less URLs that map directly to discoverable filenames and use redirects/CDN rewrites to handle legacy patterns when needed.
  - **Group content by teams and themes** so that Shared Drives / SharePoint Sites and AEM projects reflect how authoring teams actually work; keep access control models simple and role‑based.
  - **Limit the number of blocks and variants** that authors must choose from; periodically review usage and deprecate rarely used variants so the common “happy path” remains small and well‑documented.
  - **Limit the number of columns** in block tables; many narrow columns are a sign that content should instead be represented as semantic default content or moved into a separate data/table source.
  - When designing new blocks, **align their content models with the AEM Block Collection** whenever you are implementing a similar feature set, to stay consistent with established patterns ([David’s Model – AEM.live](https://www.aem.live/docs/davidsmodel)).
  - Use **fragments sparingly** for content reused across many pages (headers, footers, legal notices); avoid fragment overuse or deep fragment nesting that hides real content from authors and complicates SEO.
  - Do **not overload image `alt` text** with hidden semantics or configuration; keep alt text focused on accessibility and discoverability, and move any extra semantics into explicit fields or metadata.
  - Reserve **name/value pairs for configuration only** (e.g., block or section behavior flags translated into `data-*` attributes); never model core content like headings, images, or copy as generic name/value pairs ([David’s Model – AEM.live](https://www.aem.live/docs/davidsmodel)).

- **How this rule interacts with existing EDS rules**
  - Use these principles to decide **when to introduce a new block at all**, and then apply `[block.mdc](mdc:.cursor/rules/eds/block.mdc)` and `[model-definition.mdc](mdc:.cursor/rules/eds/model-definition.mdc)` to define the block’s JSON model and field structure.
  - When updating existing blocks, validate that changes **improve authoring simplicity** (fewer blocks/variants, simpler tables, clearer filenames/URLs) in addition to meeting visual or functional requirements.

